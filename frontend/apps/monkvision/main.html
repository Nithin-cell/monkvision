<!-- 
(C) 2020 TekMonks. All rights reserved.
-->
<style>
/* Most of these are overridden or coming from theme.json */
body {
	margin: 0;
	padding: 0;
	min-height: 600px;
	z-index: -10;
	overflow: hidden;
}

div#container {
	position: absolute;
	top: 0;
	height: 100vh;
	z-index: 1;
}

div#maincontent {
	position: absolute;
	background-color: transparent;
	z-index: -1;
}

div#leftheader {
	position: absolute;
	left: 0%;
	width: 50vw;
	height: 100vh;
	box-sizing: border-box;
	display: flex;
	flex-direction: column;
	user-select: none;
}

div#leftheader > img.dashicon {
	position: relative;
}

div#leftheader > img.dashicon:hover {white-space: normal;} /* this is just to document this css setting here, else it'd be empty */

div#leftheader > img.dashicon.selected {white-space: normal;} /* this is just to document this css setting here, else it'd be empty */

div#leftheader > span {
	text-align: center;
	position: relative;
}

span#header {
	position: absolute;
	display: flex;
	flex-direction: row;
	align-items: center;
	justify-content: space-between;
}

span#header > img#textlogo {
	vertical-align: middle;
}

span#header > span-with-menu#gear {
	z-index: 1;
}

span#header > span#signoff {
	vertical-align: middle;
}

span#header > span#signoff > img {
	vertical-align: middle;
}
span#header > span#signoff > img:hover {
	filter: brightness(70%);
	transition: all 1s ease;
}

span#header > span#title {
	text-align: center;
}

input#datetimepickerfrom, input#datetimepickerfrom:active, input#datetimepickerto, input#datetimepickerto:active {
	white-space: normal;	/* this is just to document this css setting here, else it'd be empty */
}

span#header > img#playpause {white-space: normal;} /* this is just to document this css setting here, else it'd be empty */
span#header > img#playpause:hover {
	filter: brightness(70%);
	transition: all 1s ease;
}

/* toggle theme */
span#theme-toggler {
    display: inline-flex;
    flex-direction: row;
    justify-content: space-between;
    color: #444444;
    font-size: 1.1em;
}

.tgl {display: none;}
.tgl, .tgl:after, .tgl:before, .tgl *, .tgl *:after, .tgl *:before, .tgl + .tgl-btn {box-sizing: border-box;}
.tgl::-moz-selection, .tgl:after::-moz-selection, .tgl:before::-moz-selection, .tgl *::-moz-selection, .tgl *:after::-moz-selection, .tgl *:before::-moz-selection, .tgl + .tgl-btn::-moz-selection {background: none;}
.tgl::selection, .tgl:after::selection, .tgl:before::selection, .tgl *::selection, .tgl *:after::selection, .tgl *:before::selection, .tgl + .tgl-btn::selection {background: none;}
.tgl + .tgl-btn {
    outline: 0;
    display: block;
    width: 3em;
    height: 1.5em;
    position: relative;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
}
.tgl + .tgl-btn:after, .tgl + .tgl-btn:before {
    position: relative;
    display: block;
    content: "";
    width: 50%;
    height: 100%;
}
.tgl + .tgl-btn:after {left: 0;}
.tgl + .tgl-btn:before {display: none;}
.tgl:checked + .tgl-btn:after {left: 50%;}
.tgl-ios + .tgl-btn {
    background: #fbfbfb;
    border-radius: 2em;
    padding: 2px;
    -webkit-transition: all .4s ease;
    transition: all .4s ease;
    border: 1px solid #e8eae9;
}
.tgl-ios + .tgl-btn:after {
    border-radius: 2em;
    background: #fbfbfb;
    -webkit-transition: left 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), padding 0.3s ease, margin 0.3s ease;
    transition: left 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), padding 0.3s ease, margin 0.3s ease;
    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1), 0 4px 0 rgba(0, 0, 0, 0.08);
}
.tgl-ios + .tgl-btn:hover:after {will-change: padding;}
.tgl-ios + .tgl-btn:active {box-shadow: inset 0 0 0 2em #e8eae9;}
.tgl-ios + .tgl-btn:active:after {padding-right: .8em;}
.tgl-ios:checked + .tgl-btn {background: #41cf70;}
.tgl-ios:checked + .tgl-btn:active {box-shadow: none;}
.tgl-ios:checked + .tgl-btn:active:after {margin-left: -.8em;}

</style>

<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="expires" content="-1">

	<link href="./img/favicon.png" rel="icon" type="image/x-icon">

	<script type="module">
	import {main} from "./js/main.mjs"; window.main = main;
	import {dialog_box} from "./components/dialog-box/dialog-box.mjs";
	import {span_with_menu} from "./components/span-with-menu/span-with-menu.mjs";
	import {chart_box} from "./components/chart-box/chart-box.mjs"; window.chart_box = chart_box;
	import {page_generator} from "./components/page-generator/page-generator.mjs";
	import {loginmanager} from "./js/loginmanager.mjs"; window.loginmanager = loginmanager;
	import {router} from "/framework/js/router.mjs"; window.router = router;
	</script>
		
	<title>{{pageTitle}}</title>
	{{{css}}}
</head>

<body>
<div id="leftheader">
	{{#dashboards}}
	<img id="{{id}}" class="dashicon" src="{{{htmlData.dashicon}}}" alt="{{title}}" title="{{title}}" onclick="router.loadPage('./main.html?dash=./dashboards/{{file}}&title={{title}}&refresh={{refresh}}&name={{name}}');"><span>{{name}}</span>
	{{/dashboards}}
</div>
<div id="container">
	<span id="header">
		<img id="textlogo" src="{{{htmlData.textlogo}}}">
		<span id="title">{{title}}</span>
		<input id="datetimepickerfrom" type="datetime-local" value="{{{dateTimeWeekAgo}}}" onchange="main.timeRangeUpdated(true)">
		<input id="datetimepickerto" type="datetime-local" value="{{{dateTimeNow}}}" onchange="main.timeRangeUpdated(true)">
		<span id="theme-toggler" data-value="{{toggleThemeBtnState}}" >
			<input class="tgl tgl-ios" id="toggleTheme" type="checkbox" onclick='main.toggleTheme()' {{toggleThemeBtnState}}>
			<label class="tgl-btn" for="toggleTheme">
		</span>
		<img id="playpause" src="./img/pause.svg" onclick="main.playPauseCharts(this)">
		<span-with-menu id="gear" {{{htmlData.span-with-menu#gear}}}><img src="./img/settings.svg" {{{htmlData.span-with-menu#gear>img}}}>
			<menu-item onclick="main.changePassword(this)">{{i18n.ChangePassword}}</menu-item>
		</span-with-menu>
		<span id="signoff"><img src="./img/poweroff.svg" onclick="loginmanager.logout()"></span>
	</span>

	<div id="maincontent">
		<page-generator file="{{{dash}}}"></page-generator>
	</div>

	<dialog-box id="dialog"></dialog-box>
</div>
</body>
</html>
